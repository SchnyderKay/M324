status = debug

# Root Logger
rootLogger=INFO, STDOUT, LOGFILE, CLOUDWATCH

# Direct log messages to STDOUT
appender.console.type = Console
appender.console.name = STDOUT
appender.console.layout.type = PatternLayout
appender.console.layout.pattern = [%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n

# Direct to a file
# Rolling File Appender
appender.file.type = RollingFile
appender.file.name = LOGFILE
appender.file.fileName = /app/log4j2.log
appender.file.filePattern = /app/log4j2-%d{yyyy-MM-dd}-%i.log.gz
appender.file.layout.type = PatternLayout
appender.file.layout.pattern = [%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n
appender.file.policies.type = Policies
appender.file.policies.time.type = TimeBasedTriggeringPolicy
appender.file.policies.time.interval = 1
appender.file.policies.size.type = SizeBasedTriggeringPolicy
appender.file.policies.size.size = 10MB

# CloudWatch Appender
appender.cloudwatch.type = com.amazonaws.services.logs.log4j2.CloudWatchAppender
appender.cloudwatch.name = CLOUDWATCH
appender.cloudwatch.layout.type = PatternLayout
appender.cloudwatch.layout.pattern = [%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n

# AWS CloudWatch Configuration
appender.cloudwatch.logGroup = your-log-group          # Replace this with your actual CloudWatch log group
appender.cloudwatch.logStream = your-log-stream        # Replace this with your actual CloudWatch log stream
appender.cloudwatch.region = us-east-1                 # Set to US East (N. Virginia)

# AWS Credentials (Consider using environment variables instead)
# appender.cloudwatch.awsAccessKeyId = your-access-key-id   # Replace with your AWS Access Key ID
# appender.cloudwatch.awsSecretKey = your-secret-key        # Replace with your AWS Secret Key

# Set the appender to Root Logger
rootLogger.appenderRef.console.ref = STDOUT
rootLogger.appenderRef.file.ref = LOGFILE
rootLogger.appenderRef.cloudwatch.ref = CLOUDWATCH
